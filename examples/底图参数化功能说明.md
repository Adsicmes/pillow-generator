# 底图参数化功能说明

## 功能概述

底图参数化功能允许您将模板底图作为函数参数，使生成的代码可以接受不同的底图文件。这大大提高了模板的灵活性和可重用性。

## 使用方法

### 1. 设置底图参数化

1. 在主窗口菜单中选择 **文件** → **设置底图**
2. 选择您想要的底图文件
3. 在弹出的底图设置对话框中：
   - 勾选 **"作为函数参数"** 选项
   - 设置参数名（默认为 `base_image_path`）
   - 点击 **确定**

### 2. 在属性面板中调整

当底图被选中时，您也可以在属性面板中：
- 切换 **"作为参数"** 选项
- 修改参数名称
- 更换底图文件

### 3. 生成代码

在代码生成器面板中，您会看到：
- 参数列表中包含底图路径参数
- 生成的函数签名包含底图参数
- 代码中使用参数加载底图

## 代码对比

### 参数化底图（推荐）

```python
def generate_image(base_image_path: str, output_path: str):
    """
    生成图像 - 我的项目
    
    参数:
        base_image_path: 底图路径 - 底图
        output_path: 输出图片路径
    """
    # 加载底图
    base_image = Image.open(base_image_path)
    result = base_image.copy()
    
    # ... 其他处理
```

### 固定底图

```python
def generate_image(output_path: str):
    """
    生成图像 - 我的项目
    
    参数:
        output_path: 输出图片路径
    """
    # 加载底图
    base_image = Image.open(r"path/to/fixed/background.png")
    result = base_image.copy()
    
    # ... 其他处理
```

## 优势

### 1. 灵活性
- 同一个模板可以应用于不同的底图
- 不需要重新设计模板就能更换背景

### 2. 可重用性
- 模板代码与具体底图文件解耦
- 便于分享和分发模板

### 3. 批量处理
- 可以轻松地为多个底图生成相同样式的图片
- 适合批量处理场景

## 使用场景

### 1. 社交媒体模板
- 为不同的活动海报使用相同的文字布局
- 季节性背景更换

### 2. 商业用途
- 产品展示模板
- 营销素材批量生成

### 3. 个人项目
- 照片装饰
- 个性化贺卡制作

## 注意事项

1. **文件路径**：确保底图文件路径在运行时是有效的
2. **图片格式**：支持常见的图片格式（PNG、JPG、JPEG、BMP、TIFF）
3. **尺寸考虑**：不同底图的尺寸可能影响其他图层的显示效果
4. **相对路径**：项目保存时会使用相对路径，便于项目迁移

## 示例代码

查看 `examples/base_image_parameter_example.py` 文件以了解详细的使用示例。
